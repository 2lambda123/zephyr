# Copyright 2020 Vestas Wind Systems A/S
# SPDX-License-Identifier: Apache-2.0

description: NXP Kinetis Low-power Periodic Interrupt Timer (LPIT)

compatible: "nxp,kinetis-lpit"

include: [rtc.yaml]

properties:
    reg:
      required: true

    "#address-cells":
      required: true
      const: 1

    "#size-cells":
      required: true
      const: 0

child-binding:
    description: LPIT channel configuration

    properties:
      reg:
        type: int
        required: true
        description: |
          LPIT channel number.

      nxp,trigger-select:
        type: int
        required: false
        enum:
          - 0
          - 1
          - 2
          - 3
          - 4
          - 5
          - 6
          - 7
          - 8
          - 9
          - 10
          - 11
          - 12
          - 13
          - 14
          - 15
        description: |
          LPIT trigger channel select. The number of trigger channels is SoC
          specific. Default is channel 0.

      nxp,use-internal-trigger:
        type: boolean
        required: false
        description: |
          LPIT Internal/external trigger type select. If true, the
          nxp,trigger-select is interpreted as an internal trigger channel.
          Otherwise, it is interpreted as an external trigger channel (default).

      nxp,timer-mode:
        type: string
        required: false
        enum:
          - "periodic"            # 32-bit decrementing counter
          - "dual-periodic"       # lower 16-bit decrement, then upper 16-bit
          - "trigger-accumulator" # load on 1st trig., then decrement on trigger
        description: |
          LPIT timer mode. Default is periodic timer mode.

      nxp,reload-on-trigger:
        type: boolean
        required: false
        description: |
          If true, the timer is reloaded when a trigger is detected. Default is
          false.

      nxp,stop-on-timeout:
        type: boolean
        required: false
        description: |
          If true, the timer will stop after timeout. Default is false.

      nxp,start-on-trigger:
        type: boolean
        required: false
        description: |
          If true, timer starts when a trigger is detected. Default is false.
